(z2b)=
# Zero-para-Binder

Neste capÃ­tulo, vamos criar um projeto Binder do zero: primeiro vamos criar um repositÃ³rio no GitHub e depois vamos iniciar no mybinder.org. SeÃ§Ãµes onde se espera que vocÃª complete uma tarefa sÃ£o indicadas por trÃªs semÃ¡foros de luz ğŸš¦ emojis. Algumas etapas lhe dÃ£o a opÃ§Ã£o do Python, Julia ou R - clique na aba do seu idioma preferido.

```{admonition} Attributions
Este tutorial se baseia em oficinas _Zero-to-Binder_ do Tim Head, que podem ser encontradas aqui: <http://bit.ly/zero-to-binder> e <http://bit.ly/zero-to-binder-rise>

Obrigado a Anna Krystalli e Oliver Strickson por sua ajuda no desenvolvimento do conteÃºdo de R e JÃºlia. respectivamente.
```

```{attention}
Binder pode levar muito tempo para carregar, mas isso nÃ£o significa que seu Binder falharÃ¡ ao iniciar.
VocÃª sempre pode atualizar a janela se vocÃª ver a mensagem "... estÃ¡ demorando mais para carregar, pendurar firme!".
```

```{admonition} If you are using R...
Se vocÃª estiver seguindo o caminho R, incluÃ­mos algumas etapas alternativas usando o [pacote `holepunch`](https://github. om/karthik/holepunch) que criarÃ¡ seu ambiente usando uma [imagem base do rocker](https://github.com/rocker-org/rocker) e deverÃ£o, em Ãºltima anÃ¡lise, ser mais rÃ¡pido para construir e lanÃ§ar.
```

(z2b-reqs)=
## Requisitos

VocÃª vai precisar:

- **Algum cÃ³digo e alguns dados.** O cÃ³digo deve levar menos de **10 minutos para executar**, e os dados devem ser menores que **10 MB**. Isso pode significar que vocÃª sÃ³ escolhe um script de um projeto maior, ou traz um subconjunto de seus dados. Note que Ã© muito importante que o cÃ³digo e os dados possam ser tornados **pÃºblicos** , porque nÃ³s estaremos usando a instÃ¢ncia pÃºblica de binder.
- **Uma conta GitHub.** Por favor, cadastre-se para uma se vocÃª ainda nÃ£o tem uma: <https://github.com/join>

(z2b-step-1)=
## 1. Criando um repositÃ³rio para Binderize

ğŸš¦ğŸš¦ğŸš¦

````{tabbed} Python
1) Crie um novo repositÃ³rio no GitHub chamado "my-first-binder"
   - Certifique-se de que o repositÃ³rio Ã© **pÃºblico**, _nÃ£o_!
   - NÃ£o se esqueÃ§a de inicializar o repositÃ³rio com um README!
2) Crie um arquivo chamado `hello.py` atravÃ©s da interface web com `print("OlÃ¡ da Binder!")` na primeira linha e commit com a branch `main`
````

````{tabbed} Julia
1) Crie um novo repositÃ³rio no GitHub chamado "my-first-binder"
   - Certifique-se de que o repositÃ³rio Ã© **pÃºblico**, _nÃ£o_!
   - NÃ£o se esqueÃ§a de inicializar o repositÃ³rio com um README!
2) Crie um arquivo chamado `olÃ¡. l` atravÃ©s da interface web com `println("OlÃ¡ de Binder! )` na primeira linha e commit com a branch `main`
3) Crie um arquivo chamado `Project. oml` (ATENÃ‡ÃƒO: a capitalizaÃ§Ã£o Ã© importante!) com o seguinte conteÃºdo e compromete-o para `main`.
   Isto irÃ¡ instalar o Julia no ambiente Binder.

   ```julia
   [compat]
   julia = "1.3"
```
````

````{tabbed} R
1) Crie um novo repositÃ³rio no GitHub chamado "my-first-binder"
   - Certifique-se de que o repositÃ³rio Ã© **pÃºblico**, _nÃ£o_!
   - NÃ£o se esqueÃ§a de inicializar o repositÃ³rio com um README!
2) Crie um arquivo chamado `olÃ¡. ` atravÃ©s da interface web com `print("OlÃ¡ da Binder! )` na primeira linha e commit com a branch `main`
3) Crie um arquivo chamado `runtime. xt` com `r-2022-01-01` na primeira linha.
   Esta data representa o snapshot de [CRAN](https://cran.r-project.org/) hospedado no [RStudio Package Manager](https://packagemanager.rstudio.com) que vamos usar.
   Envie este arquivo para o branch `main`.

   ```{note}
   Em R vocÃª pode usar `holepunch::write_runtime()` para criar um `runtime.txt` no diretÃ³rio `.binder/`; ele serÃ¡ configurado com a data de hoje.
   ```
````
(z2b-repositÃ³rio-pÃºblico)=
### Por que razÃ£o o repositÃ³rio tem de ser pÃºblico?
mybinder.org nÃ£o pode acessar repositÃ³rios privados, pois isso exigiria um token secreto. A equipe binder optou por nÃ£o assumir a responsabilidade de lidar com tokens secretos como mybinder.org Ã© um serviÃ§o pÃºblico e uma prova de conceito tecnolÃ³gico. Se acessar repositÃ³rios privados Ã© um recurso que vocÃª / sua equipe precisa, recomendamos que vocÃª analise para construir seu prÃ³prio [BinderHub](https://binderhub.readthedocs.io).
(z2b-step-2)=
## 2. Inicie o seu primeiro repositÃ³rio!
ğŸš¦ğŸš¦ğŸš¦
1) VÃ¡ para **<https://mybinder.org>** 2) Digite a URL do seu repositÃ³rio na caixa "GitHub repo ou URL". Deve ficar assim:
> **https://github.com/YOUR-USERNAME/my-first-binder** 3) Ã€ medida que vocÃª digita, a pÃ¡gina da Web gera um link no "Copy the URL below. Caixa ." Deve ficar assim: **https://mybinder. rg/v2/gh/YOUR-USERNAME/my-first-binder/HEAD** CopiÃ¡-lo, abrir uma nova aba do navegador e visitar essa URL - VocÃª verÃ¡ um "girar" quando o Binder abrir o repositÃ³rio
Se tudo correu bem, vocÃª verÃ¡ uma interface do JupyterLab.
(z2b-fundo-1)=
### O que estÃ¡ acontecendo no fundo? - Parte 1
Enquanto espera, o BinderHub (o backend do Binder) Ã©:
- Buscando seu repositÃ³rio no GitHub
- Analisando o conteÃºdo
- Construindo uma imagem Docker com base no seu repositÃ³rio
- Largando a imagem Docker na nuvem
- Conectando vocÃª atravÃ©s do seu navegador
(z2b-step-3)=
## 3. Executar o script
ğŸš¦ğŸš¦ğŸš¦

````{tabbed} Python
1. No painel de lanÃ§amento, selecione "Terminal"
2. Na nova janela terminal, digite `python hello.py` e pressione return
````

````{tabbed} Julia
1. No painel de lanÃ§amento, selecione "Terminal"
2. Na nova janela do terminal, digite `julia hello.jl` e pressione return
````

````{tabbed} R
1. No painel de lanÃ§amento, selecione "Terminal"
2. Na nova janela do terminal, digite `Rscript -e 'source("olÃ¡.R")'` e entÃ£o pressione return
````

`OlÃ¡ de Binder!` serÃ¡ impresso no terminal.

(z2b-step-4)=
## 4. Fixando DependÃªncias

Foi fÃ¡cil de comeÃ§ar, mas nosso ambiente Ã© desbones - vamos adicionar uma **dependÃªncia**!

ğŸš¦ğŸš¦ğŸš¦

````{tabbed} Python
1) Em seu repositÃ³rio, crie um arquivo chamado `requirements.txt`
2) Adicione uma linha que diz: `numpy==1.14.5`
3) Verifique os tipos! Em seguida, commit com a branch `main`
4) Visite **https://mybinder.org/v2/gh/YOUR-USERNAME/my-first-binder/HEAD** novamente em uma nova aba
````

````{tabbed} Julia
1) Em seu repositÃ³rio, edite o `Projeto. arquivo oml`
2) Adicione um novo bloco que diz:

   ```julia
   [deps]
   CSV = "336ed68f-0bac-5ca0-87d4-7b16caf5d00b"
   ```

3) Verificar por tipos! Em seguida, commit no 'main'.
4) Visite **https://mybinder.org/v2/gh/YOUR-USERNAME/my-first-binder/HEAD** novamente em uma nova aba
````

````{tabbed} R
1) Em seu repositÃ³rio, crie um arquivo chamado `install.R`
2) Adicione uma linha que diz: `install.packages("readr")`
3) Confira os tipos! Em seguida, commit com a branch `main`
4) Visite **https://mybinder. rg/v2/gh/YOUR-USERNAME/my-first-binder/HEAD** novamente em uma nova aba

```{note}
Se usando `holepunch`, vocÃª pode criar uma `instalar. ` arquivo e adicione automaticamente o cÃ³digo para instalar todas as dependÃªncias do seu projeto usando `holepunch::write_install()`.
```
````
Desta vez, clique em "Construir Logs" na barra grande, horizontal cinza. Isto permitirÃ¡ que vocÃª acompanhe o progresso da sua construÃ§Ã£o. Ã‰ Ãºtil quando sua compilaÃ§Ã£o falha ou algo que vocÃª acha que _deveria estar_ instalado estÃ¡ faltando.

```{note}
Ã€s vezes, os logs de compilaÃ§Ã£o de Binder imprimem coisas em fonte vermelha, tais como avisos que `pip` nÃ£o estÃ¡ atualizado (`pip` estÃ¡ frequentemente desatualizado porque Ã© atualizado regularmente! ou instalar mensagens, especialmente se vocÃª estiver usando R.
Essas mensagens vermelhas nÃ£o significam necessariamente que hÃ¡ um problema com sua compilaÃ§Ã£o e vai falhar - Ã© apenas uma infeliz escolha de cor da fonte!
```

(z2b-fundo-2)=
### O que estÃ¡ acontecendo no fundo? - Parte 2

Desta vez, o BinderHub lerÃ¡ o arquivo de configuraÃ§Ã£o que vocÃª adicionou e instalarÃ¡ a versÃ£o especÃ­fica do pacote solicitado.

(z2b-dependencies)=
### Mais sobre fixaÃ§Ã£o de dependÃªncias

````{tabbed} Python
No exemplo acima, nÃ³s usamos dois sinais iguais (`==`) para fixar a versÃ£o do `numpy`.
Isso diz Ã  Binder para instalar a versÃ£o especÃ­fica.

Outra maneira de fixar um nÃºmero de versÃ£o Ã© usar o sinal maior ou igual (`>=`) para permitir que qualquer versÃ£o acima de um determinado seja instalada.
Isso Ã© Ãºtil quando vocÃª tem muitas dependÃªncias que podem ter dependÃªncias umas das outras e permite que a Binder encontre uma configuraÃ§Ã£o de suas dependÃªncias que nÃ£o entrem em conflito umas com as outras, evitando versÃµes anteriores que possam quebrar ou alterar seu cÃ³digo.

Finalmente vocÃª nÃ£o pode fornecer um nÃºmero de versÃ£o (apenas o nome da biblioteca/pacote) e a Binder irÃ¡ instalar a Ãºltima versÃ£o desse pacote.
````

````{tabbed} Julia
No exemplo acima, copiamos um hash para o nosso arquivo `Project.toml` que estÃ¡ relacionado com a versÃ£o do pacote que gostarÃ­amos de instalar.
Para um grÃ¡fico de dependÃªncia completo, nÃ³s tambÃ©m precisarÃ­amos incluir um arquivo `Manifest.toml` que documentasse as dependÃªncias das dependÃªncias.
Entre esses dois arquivos, somos capazes de instanciar uma replicaÃ§Ã£o exata de um ambiente Julia.

Claro que podemos imaginar que, Ã  medida que o ambiente cresce e as interdependÃªncias se tornem mais complexas, seria muito tributÃ¡vel escrever esses arquivos manualmente!
A verdade Ã© que vocÃª nunca faria isso manualmente, o gerenciador de pacotes `Pkg` embutido pode [gerÃ¡-los automaticamente](https://julialang.github.io/Pkg.jl/v1/environments/).
````

````{tabbed} R
No exemplo acima, especificamos que queremos usar R no nosso projeto incluindo uma data em `runtime.txt`.
A data indica Ã  Binder qual CRAN snapshot para source R e pacotes.
Estes snapshots sÃ£o originados do [RStudio Package Manager](https://packagemanager.rstudio.com) (RSPM).
No exemplo acima, o snapshot do RSPM datado de `r-2022-01-01` Ã© usado e a versÃ£o de R e `readr` disponÃ­veis nessa data e instalada.
Para o exemplo de fluxo de trabalho para funcionar corretamente, certifique-se de que vocÃª nÃ£o informou uma data antes dessa data de exemplo.

Isto fornece alguns pacotes rudimentares de versÃ£o para usuÃ¡rios R, mas nÃ£o Ã© tÃ£o robusto quanto a versÃ£o fixada em um `requirements.txt` no Python.
Para uma versÃ£o mais robusta e especÃ­fica fixando em R, dÃª uma olhada no [pacote `renv`](https://rstudio.github.io/renv/).
````

(z2b-step-5)=
## 5. Verifique o ambiente

ğŸš¦ğŸš¦ğŸš¦

````{tabbed} Python
1) Do painel de lanÃ§amento Selecione "Python 3" da seÃ§Ã£o de ObservaÃ§Ã£o para abrir um novo caderno de notas
2) Digite o seguinte em uma nova cÃ©lula:

   ```python
   import numpy
   print(numpy.__version__)
   numpy.random. andn()
   ```

   ```{attention}
   Note os dois sublinhados de qualquer lado de `versÃ£o`!
   ```

3) Execute a cÃ©lula para ver o nÃºmero da versÃ£o e um nÃºmero aleatÃ³rio impresso

   - Pressione SHIFT+RETURN ou o botÃ£o "Executar" na barra de menu
````

````{tabbed} Julia
1) Do painel de lanÃ§amento selecione "Julia" da seÃ§Ã£o de ObservaÃ§Ãµes para abrir um novo caderno Julia
2) Digite o seguinte em uma nova cÃ©lula:

   ```julia
   usando Pkg
   Pkg. tatus()
   ```

3) Execute a cÃ©lula para ver o nÃºmero de versÃ£o impresso

   - Pressione SHIFT+RETURN ou o botÃ£o "Executar" na barra de menu
````

````{tabbed} R
1) Do painel de lanÃ§amento selecione "R" da seÃ§Ã£o de ObservaÃ§Ãµes para abrir um novo Quadro de Notas de R
2) Insira o seguinte em uma nova cÃ©lula:

   ```r
   library(readr)
   packageVersion("readr")
   read_csv(sistema. ile("extdata/mtcars. sv", package = "readr"))
   ```

3) Execute a cÃ©lula

    - Pressione SHIFT+RETURN ou o botÃ£o "Executar" na barra de menu
    VocÃª deve ver o seguinte output:
      - o nÃºmero de versÃ£o da versÃ£o instalada do `readr`
      - uma tibble do conteÃºdo dos `mtcars. sv` que Ã© um arquivo csv incluÃ­do no pacote `readr`
````

```{attention}
Se vocÃª salvar este caderno, ele **nÃ£o** serÃ¡ salvo no repositÃ³rio do GitHub.
Empurrar as alteraÃ§Ãµes de volta ao repositÃ³rio do GitHub atravÃ©s do contÃªiner nÃ£o Ã© possÃ­vel com o Binder.
**Qualquer alteraÃ§Ã£o feita em arquivos dentro da Binder serÃ¡ perdida quando vocÃª fechar a janela do navegador.**
```

(z2b-step-6)=
## 6. Compartilhando seu trabalho

Binder Ã© compartilhar seu trabalho com facilidade e hÃ¡ duas maneiras de fazÃª-lo:

- Compartilhe a URL **https://mybinder.org/v2/gh/YOUR-USERNAME/my-first-binder/HEAD** diretamente
- Visite **[https://mybinder. rg](https://mybinder.org)**, digite a URL do seu repositÃ³rio e copie o trecho de texto Markdown ou ReStructured no seu `README. d` arquivo. Este trecho irÃ¡ renderizar um emblema em que as pessoas podem clicar, que se parece com isto: ![Vestimenta](https://mybinder.org/badge_logo.svg)

ğŸš¦ğŸš¦ğŸš¦

1) Adicione o **snippet** Markdown de **<https://mybinder.org>** ao arquivo `README.md` em seu repositÃ³rio
   - A barra cinza que mostra um crachÃ¡ no binder serÃ¡ exibida para revelar os trechos. Clique no Ã­cone da Ã¡rea de transferÃªncia ao lado da caixa de marcada com "m" para copiar automaticamente o trecho de Markdown. 2) Clique no selo para ter certeza que funciona!

(z2b-step-7)=
## 7. Acessando dados no seu Binder

Outro tipo de dependÃªncia para projetos Ã© **dados**. Existem diferentes maneiras de disponibilizar dados no seu Binder, dependendo do tamanho dos seus dados e das suas preferÃªncias para compartilhÃ¡-los.

(z2b-pequenos arquivos)=
### Arquivos pÃºblicos pequenos

A abordagem mais simples para arquivos de dados pÃºblicos pequenos Ã© adicionÃ¡-los diretamente no seu repositÃ³rio do GitHub. Eles sÃ£o entÃ£o diretamente encapsulados ao ambiente e versionados juntamente com seu cÃ³digo.

Isso Ã© ideal para arquivos de atÃ© **10MB**.

(z2b-medios arquivos)=
### Arquivos pÃºblicos mÃ©dios

Para acessar arquivos mÃ©dios **de algumas 10s MB atÃ© algumas centenas de MB**, vocÃª pode adicionar um arquivo chamado `postBuild` ao seu repositÃ³rio. Um arquivo `postBuild` Ã© um script shell que Ã© executado como parte da construÃ§Ã£o da imagem e sÃ³ Ã© executado quando uma nova imagem Ã© construÃ­da, nÃ£o toda vez que o Binder Ã© lanÃ§ado.

Veja [exemplo `postBuild` do Binder](https://mybinder.readthedocs.io/en/latest/using/config_files.html#postbuild-run-code-after-installing-the-environment) para mais usos do `script postBuild`.

```{note}
Novas imagens sÃ£o construÃ­das somente quando a Binder vÃª um novo commit, nÃ£o toda vez que vocÃª clica no link Binder.
Portanto, os dados sÃ³ sÃ£o baixados uma vez quando a imagem do Docker Ã© construÃ­da, nÃ£o toda vez que o Binder Ã© iniciado.
```

(z2b-grandes)=
### Arquivos pÃºblicos grandes

NÃ£o Ã© prÃ¡tico colocar arquivos grandes no seu repositÃ³rio do GitHub ou incluÃ­-los diretamente na imagem que a Binder compila. A melhor opÃ§Ã£o para arquivos grandes Ã© usar uma biblioteca especÃ­fica para o formato de dados para transmitir os dados enquanto vocÃª os usa ou baixÃ¡-los sob demanda como parte do seu cÃ³digo.

Por razÃµes de seguranÃ§a, o trÃ¡fego de saÃ­da do seu Binder Ã© restrito apenas a conexÃµes HTTP/S ou GitHub. VocÃª nÃ£o serÃ¡ capaz de usar sites FTP para obter dados em mybinder.org.

(z2b-arquivos privados)=
### Arquivos privados

NÃ£o hÃ¡ nenhuma maneira de acessar arquivos que nÃ£o sÃ£o pÃºblicos em mybinder.org. VocÃª deve considerar todas as informaÃ§Ãµes do seu Binder como pÃºblicas, ou seja, que:

- nÃ£o deve haver senhas, tokens, chaves e assim por diante no seu repositÃ³rio do GitHub;
- vocÃª nÃ£o deve digitar senhas em um Binder executando em mybinder.org;
- vocÃª nÃ£o deve carregar sua chave SSH privada ou token de API para um Binder.

Para apoiar o acesso a arquivos privados, VocÃª precisa criar um deploy local do [BinderHub](https://binderhub.readthedocs.io) onde possa decidir o trading com seguranÃ§a.

```{note}
Construir um BinderHub nÃ£o Ã© uma tarefa simples e geralmente Ã© assumida por grupos de IT/RSE por razÃµes em torno do gerenciamento de manutenÃ§Ã£o, seguranÃ§a e governaÃ§Ã£o.
No entanto, isso nÃ£o significa que eles sÃ£o os grupos _apenas_ de pessoas que deveriam/poderiam construir um BinderHub.
```

(z2b-step-8)=
## 8. Obtenha dados com `postBuild`

ğŸš¦ğŸš¦ğŸš¦

````{tabbed} Python
1) VÃ¡ para o seu repositÃ³rio do GitHub e crie um arquivo chamado `postBuild`
2) Em `postBuild`, adicione uma Ãºnica linha lendo: `wget -q -O gapminder. sv http://bit.ly/2uh4s3g`
   - `wget` Ã© um programa que recupera conteÃºdo de servidores web.
     Esta linha extrai o conteÃºdo do URL do bitly e o salva no nome do arquivo indicado pela bandeira '-O' (capital "O", nÃ£o zero), neste caso `gapminder. sv`.
     A bandeira `-q` diz para `wget` fazer isso em silÃªncio, o que significa que nÃ£o vai imprimir nada para o console.
3) Atualize seus requisitos `. xt` adicionando uma nova linha com `pandas` nele e outra linha com `matplotlib`
   - Esses pacotes nÃ£o sÃ£o necessÃ¡rios para baixar os dados, mas vamos usÃ¡-los para ler o arquivo CSV e fazer um grÃ¡fico
4) Clique no crachÃ¡ binder no README para abrir o Binder

Uma vez que o Binder tenha iniciado, vocÃª deve ver um novo arquivo que nÃ£o fazia parte do seu repositÃ³rio quando vocÃª clicou na insÃ­gnia.

Agora visualize os dados criando um novo caderno (selecionando "Python 3" na seÃ§Ã£o Notebook) e execute o seguinte cÃ³digo em uma cÃ©lula.

```python
%matplotlib inline

importar pandas

dados = pandas.read_csv("gapminder.csv", index_col="country")

anos = dados. olumns.str.strip("gdpPercap_") # Extrair ano dos Ãºltimos 4 caracteres de cada coluna
dada.colunas = anos. stype(int) # Converte valores do ano em inteiros, salvando resultados de volta para os dados do dataframe

. oc["AustrÃ¡lia"]. lot()
```

```{note}
Veja esta [liÃ§Ã£o de Software Carpentrada](https://swcarpentry.github.io/python-novice-gapminder/09-plotting/index.html) para mais informaÃ§Ãµes.
```
````

````{tabbed} Julia
1) VÃ¡ para o seu repositÃ³rio do GitHub e crie um arquivo chamado `postBuild`
2) Em `postBuild`, adicione uma Ãºnica linha lendo: `wget -q -O gapminder. sv http://bit.ly/2uh4s3g`
   - `wget` Ã© um programa que recupera conteÃºdo de servidores web.
     Esta linha extrai o conteÃºdo do URL do bitly e o salva no nome do arquivo indicado pela bandeira '-O' (capital "O", nÃ£o zero), neste caso `gapminder. sv`.
     A bandeira `-q` diz para `wget` fazer isso em silÃªncio, o que significa que nÃ£o vai imprimir nada para o console.
3) Atualize seu `Projeto. oml` adicionando novas dependÃªncias a `[deps]` com as seguintes linhas:

   ```julia
   DataFrames = "a93c6f00-e57d-5684-b7b6-d8193f3e46c0"
   Plots = "91a5bcdd-55d7-5caf-9e0b-520d859cae80"
   ``

   - Estes pacotes nÃ£o sÃ£o necessÃ¡rios para baixar, mas vamos usÃ¡-los para ler o arquivo CSV e fazer um encaixe
4) Clique no emblema binder no seu README para iniciar o Binder

Uma vez que o Binder tenha iniciado, vocÃª deve ver um novo arquivo que nÃ£o fazia parte do seu repositÃ³rio quando vocÃª clicou na insÃ­gnia.

Agora visualize os dados criando um novo caderno (selecionando "Julia" da seÃ§Ã£o Notebook) e execute o cÃ³digo a seguir em uma cÃ©lula.

```julia
usando DataFrames
usando CSV
usando Plots

data = CSV.read("gapminder. sv", DataFrame)

# Extrair a linha correspondente Ã  AustrÃ¡lia
aus_gdp = dados[dados[:, :country] . = "AustrÃ¡lia", :]
aus_gdp = Matrix(aus_gdp[:, :end])[:] # como vetor

# Extrair os anos como Ints dos nomes das colunas
anos = [x[end-3:end] para x em nomes(dados)[2:end]]
anos = anÃ¡lise. Int, anos)

# Plot
plot(anos, aus_gdp)
```
````

````{tabbed} R
1) VÃ¡ para o seu repositÃ³rio do GitHub e crie um arquivo chamado `postBuild`
2) Em `postBuild`, adicione uma Ãºnica linha lendo: `wget -q -O gapminder. sv http://bit.ly/2uh4s3g`
   - `wget` Ã© um programa que recupera conteÃºdo de servidores web.
     Esta linha extrai o conteÃºdo do URL do bitly e o salva no nome do arquivo indicado pela bandeira '-O' (capital "O", nÃ£o zero), neste caso `gapminder. sv`.
     A bandeira `-q` diz para `wget` fazer isso em silÃªncio, o que significa que nÃ£o vai imprimir nada para o console.
3) Atualize seu arquivo `install.R` para instalar duas dependÃªncias adicionais, `"tidyr"` e `"ggplot2"`. Para fazer isso, forneÃ§a um vetor de personagem dos pacotes necessÃ¡rios para `install.packages()` em vez de uma Ãºnica string de caractere. O comando de instalaÃ§Ã£o agora deve ficar assim:

   ```r
   instale. ackages(c("readr", "tidyr", "ggplot2"))
   ```

    - Esses pacotes nÃ£o sÃ£o necessÃ¡rios para baixar os dados, mas vamos usÃ¡-los para ler o arquivo CSV, processe-o e faÃ§a um grÃ¡fico
4) Clique no Ã­cone amargo em seu README para iniciar seu Binder

Uma vez que o Binder tiver iniciado, vocÃª deve ver um novo arquivo que nÃ£o fazia parte do seu repositÃ³rio quando vocÃª clicou na insÃ­gnia.

Agora visualize os dados criando um novo caderno (selecionando "R" da seÃ§Ã£o ObservaÃ§Ã£o) e executando o cÃ³digo a seguir em uma cÃ©lula.

```r
library(readr)
library(tidyr)
library(ggplot2)

data <- read_csv("gapminder. sv") %>%
    pivo_mais tempo(-paÃ­s,
                 nomes_to = "ano",
                 valores_para = "gdpPercap",
                 nomes_prefix = "gdpPercap_",
                 nomes_transformacao = list(ano = as. nteger))

dados[dados$country == "AustrÃ¡lia", ] %>%
    ggplot(a(x = ano, y = gdpPercap)) +
    geom_line()
```
````
(z2banotadores-alÃ©m)=
## Mudando a interface
Ao longo deste tutorial, temos usado a interface do JupyterLab. Essa Ã© a interface padrÃ£o para instÃ¢ncias Binder recÃ©m-criadas. No entanto, esta nÃ£o Ã© a Ãºnica interface disponÃ­vel no mybinder.org, a visualizaÃ§Ã£o do Notebook clÃ¡ssico e o RStudio tambÃ©m estÃ£o disponÃ­veis. (O ambiente R precisa ser instalado para que o RStudio esteja disponÃ­vel.)
VocÃª pode acessar as diferentes interfaces de maneiras diferentes. O jeito mais fÃ¡cil Ã© usar os botÃµes no LanÃ§ador JupyterLab, mas vocÃª pode fornecer parÃ¢metros de URL diretamente para abrir uma interface especÃ­fica (ou arquivo! quando a instÃ¢ncia Binder Ã© iniciada. Agora vamos cobrir trÃªs maneiras que vocÃª pode manipular seu URL do Binder para navegar entre interfaces.
### de dentro a Binder Correndo
Aqui estÃ¡ a estrutura da URL dentro de uma instÃ¢ncia da Binder em execuÃ§Ã£o executando o JupyterLab:
> **https://<some-prefix>.mybinder.org/user/<a composite of your username, repo name and a hash>/lab**
You can change the interface from JupyterLab to either the Classic Notebook or RStudio by changing the `/lab` part of the URL to:
- **Classic Notebook:** `/tree`
- **RStudio:** `/rstudio`
### by changing the mybinder.org launch link
Here is the launch link you have been using throughout this tutorial:
> **https://mybinder.org/v2/gh/YOUR-USERNAME/my-first-binder/HEAD**
You can access each interface by appending once of the following to the end of you URL:
- **Jupyter Notebook:** `?urlpath=tree`
- **JupyterLab:** `?urlpath=lab`
- **RStudio:** `?urlpath=rstudio`
### by using the mybinder.org form
You can also set the interface when constructing your launch link on the mybinder.org website (instead of editing the URL directly) as demonstrated in the below gif.

```{figure} https://user-images.githubusercontent.com/1448859/53651127-4dabe900-3c46-11e9-8684-2cfde840d4ce.gif
---
name: changing_interfaces
alt: A gif demonstrating how to change the interface of a Binder on the mybinder.org website
---
Use the "URL to open" option on the mybinder.org site to select your interface
```

(z2b-over-to-you)=
## Now over to you!

Now you've binderized (bound?) this demo repo, it's time to binderize the example script and data you brought along!

**Some useful links:**

- Choosing languages:
  - **<https://mybinder.readthedocs.io/en/latest/howto/languages.html>**
- Configuration files:
  - **<https://mybinder.readthedocs.io/en/latest/using/config_files.html>**
- Example Binder repos:
  - **<https://mybinder.readthedocs.io/en/latest/sample_repos.html>**
- Getting data:
  - With `wget`: **<https://github.com/binder-examples/getting-data>**
  - With `quilt`: **<https://github.com/binder-examples/data-quilt>**
  - From remote storage: **<https://github.com/binder-examples/remote_storage>**

**Advanced usage patterns:**

- Separating content from envorinment with `nbgitpuller` to reduced rebuilds:
  - **<https://discourse.jupyter.org/t/tip-speed-up-binder-launches-by-pulling-github-content-in-a-binder-link-with-nbgitpuller/922>**
- Tips for reducing the start-up time of your repository:
  - **<https://discourse.jupyter.org/t/how-to-reduce-mybinder-org-repository-startup-time/4956>**
